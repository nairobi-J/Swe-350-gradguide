<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenRouter API Test</title>
</head>
<body>
    <h1>Testing OpenRouter API</h1>
    <p>Check the browser's developer console for the API response.</p>

    <script>
        fetch("https://openrouter.ai/api/v1/chat/completions", {
          method: "POST",
          headers: {
            "Authorization": "Bearer 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",
            "HTTP-Referer": "http://localhost", // Or your actual development URL
            "X-Title": "My Test App",
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            "model": "deepseek/deepseek-chat-v3-0324:free",
            "messages": [
              {
                "role": "user",
                "content": "What is the meaning of life?"
              }
            ]
          })
        })
        .then(response => {
            if (!response.ok) {
                // Check for non-2xx HTTP status codes
                // Important: If the API returns an error, it might still return JSON, so try to parse it.
                return response.json().then(err => {
                    throw new Error(`HTTP error! status: ${response.status}, message: ${JSON.stringify(err)}`);
                }).catch(() => {
                    // If it's not JSON, just throw a generic error
                    throw new Error(`HTTP error! status: ${response.status}`);
                });
            }
            return response.json();
        })
        .then(data => console.log('API Response:', data)) // Look for this log
        .catch(error => console.error('Fetch Error:', error)); // Or this error log
    </script>
</body>
</html>